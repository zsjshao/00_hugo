+++
author = "zsjshao"
title = "01_计算机系统概述"
date = "2021-01-01"
tags = ["OS"]
categories = ["OS"]

+++

# 计算机系统概述

**知识框架**

![os](http://images.zsjshao.net/ky/os/1/01.png)

## 1、操作系统的基本概念

​    在信息化时代,软件是计算机系统的灵魂,而作为软件核心的操作系统,已与现代计算机系统密不可分、融为一体计算机系统自下而上可大致分为4部分:硬件、操作系统、应用程序和用户这里的划分与计算机组成原理中的分层不同操作系统管理各种计算机硬件,为应用程序提供基础,并充当计算机硬件与用户之间的中介。

​    操作系统(Operating System,OS)是指控制和管理整个计算机系统的硬件与件资源,合理地组织、调度计算机的工作与资源的分配,进而为用户和其他软件提供方便接口与环境的程序集合,操作系统是计算机系统中最基本的系统软件。

**大家熟悉的操作系统**

![os](http://images.zsjshao.net/ky/os/1/02.png)

**思维导图**

![os](http://images.zsjshao.net/ky/os/1/03.png)

### 1.1、操作系统的概念（定义）

一台电脑的诞生~

- Step 1：厂家组装一台裸机
- Step 2：出售前安装操作系统
- Step 3：用户安装应用程序（eg：QQ）
- Step 4：使用QQ 聊天

![os](http://images.zsjshao.net/ky/os/1/04.png)

操作系统（Operating System， OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调
度计算机的工作和资源的分配；以提供给用户和其他软件方便的接口和环境；它是计算机系统中最基本的系统软件。

- 操作系统是系统资源的管理者
- 操作系统向上层提供方便易用的服务
- 操作系统是最接近硬件的一层软件

直观的例子：打开Windows 操作系统的“任务管理器”（快捷键：Ctrl+Alt+Del）

![os](http://images.zsjshao.net/ky/os/1/05.png)

### 1.2、操作系统的功能和目标

![os](http://images.zsjshao.net/ky/os/1/06.png)

1、操作系统`作为系统资源的管理者`（这些资源包括软件、硬件、文件等），需要提供什么功能？

2、操作系统`作为用户与计算机硬件之间的接口`，要为其上层的用户、应用程序提供简单易用的服务，需要实现什么功能？

3、操作系统`作为最接近硬件的层次`，需要在纯硬件的基础上实现什么功能？

#### 1.2.1、作为系统资源的管理者

![os](http://images.zsjshao.net/ky/os/1/07.png)

作为系统资源的管理者，操作系统需提供的功能

- 处理机管理（进程管理）
- 存储器管理（内存管理）
- 文件管理
- 设备管理

且要确保能达到安全、高效的目标

补充知识：执行一个程序前需要将该程序放到内存中，才能被CPU处理。

用QQ和朋友视频聊天的过程：

- Step 1：在各个文件夹中找到QQ 安装的位置（如D:/Tencent/QQ/Bin）
- Step 2：双击打开QQ.exe
- Step 3：QQ 程序正常运行
- Step 4：开始和朋友视频聊天

#### 1.2.2、作为用户和计算机硬件之间的接口

![os](http://images.zsjshao.net/ky/os/1/08.png)

- 命令接口：允许用户直接使用
- 程序接口：允许用户通过程序间接使用
- GUI：现代操作系统中最流行的图形用户接口

##### 1.2.2.1、命令接口

![os](http://images.zsjshao.net/ky/os/1/09.png)

**联机命令接口实例**（Windows系统） 联机命令接口=`交互式`命令接口

- Step 1：win键+R
- Step 2：输入cmd，按回车，打开命令解释器
- Step 3：尝试使用time 命令

![os](http://images.zsjshao.net/ky/os/1/10.png)

特点：用户说一句，系统跟着做一句



**脱机命令接口实例**（windows系统）   脱机命令接口=`批处理`命令接口

使用windows系统的搜索功能，搜索C盘中的*.bat文件，用记事本任意打开一个

![os](http://images.zsjshao.net/ky/os/1/11.png)

特点：用户说一堆，系统跟着做一堆

##### 1.2.2.2、程序接口

可以在程序中进行系统调用来使用程序接口。普通用户不能直接使用程序接口，只能通过程
序代码间接使用。

程序接口=系统调用=系统调用命令=广义命令

##### 1.2.2.3、图形接口

GUI：图形用户界面（Graphical User Interface）

- 用户可以使用形象的图形界面进行操作，而不再需要记忆复杂的命令、参数。
- 例：在Windows操作系统中，删除一个文件只需要把文件“拖拽”到回收站即可。

![os](http://images.zsjshao.net/ky/os/1/12.png)

#### 1.2.3、作为最接近硬件的层次

需要实现对硬件机器的拓展

没有任何软件支持的计算机成为裸机。在裸机上安装的操作系统，可以提供资源管理功能和方便用户的服务功能，将裸机改造成功能更强、使用更方便的机器

通常把覆盖了软件的机器成为`扩充机器`，又称之为`虚拟机`

类比：

- 硬件：锤子、锯子、木头、钉子 ...
- 操作系统：优秀的工匠

操作系统对硬件机器的拓展：将CPU、内存、磁盘、显示器、键盘等硬件合理地组织起来，让各种硬件
能够相互协调配合，实现更多更复杂的功能

普通用户无需关心这些硬件在底层是怎么组织起来工作的，只需直接使用操作系统提供的接口即可

### 1.3、操作系统的特征

![os](http://images.zsjshao.net/ky/os/1/13.png)

#### 1.3.1、操作系统的特征--并发

并发：指两个或多个事件在**同一时间间隔内发生**。这些事件宏观上是同时发生的，但微观上是交替发生的。
常考易混概念——并行：指两个或多个事件在同一时刻同时发生。

操作系统的并发性指计算机系统中同时存在着多个运行着的程序。

一个单核处理机（CPU）同一时刻只能运行一个程序，因此操作系统会负责协调多个程序交替运行（这些程序微观上是交替执行的，但宏观上看起来就像在同时执行）

事实上，操作系统就是伴随着“多道程序技术”而出现的。因此，操作系统和程序并发是一起诞生的。

当今的计算机，一般都是多核CPU，比如4核CPU意味着同一时刻可以有4个程序并行执行，但是操作系统的并发性依然必不可少，当代人使用计算机绝对有4个以上的程序需要同时工作。

![os](http://images.zsjshao.net/ky/os/1/14.png)

#### 1.3.2、操作系统的特征--共享

共享即资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。

![os](http://images.zsjshao.net/ky/os/1/15.png)

所谓的“同时”往往是宏观上的，而在微观上，这些进程可能是交替地对该资源进行访问的（即分时共享）

生活实例：

互斥共享方式：使用QQ和微信视频。同一时间段内摄像头只能分配给其中一个进程。

同时共享方式：使用QQ发送文件A，同时使用微信发送文件B。宏观上看，两边都在同时读取并发送文件，
说明两个进程都在访问硬盘资源，从中读取数据。微观上看，两个进程是交替着访问硬盘的。

#### 1.3.3、操作系统的特征--并发和共享的关系

并发性是指计算机系统中同时存在着多个运行着的程序。

共享性是指系统中的资源可供内存中多个并发执行的进程共同使用。

通过上述例子来看并发与共享的关系：

- 使用QQ发送文件A，同时使用微信发送文件B。
- 1.两个进程正在并发执行（并发性）
- 2.需要共享地访问磁盘资源（共享性）

如果失去并发性，则系统中只有一个程序正在运行，则共享性失去存在的意义

如果失去共享性，则QQ和微信不能同时访问硬盘资源，就无法实现同时发送文件，也就无法并发。

![os](http://images.zsjshao.net/ky/os/1/16.png)

#### 1.3.4、操作系统的特征--虚拟

虚拟是指把一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存在的，而逻辑上
对应物（后者）是用户感受到的。

用一个例子来理解

背景知识：一个程序需要放入内存并给它分配CPU才能执行

- GTA5需要4GB的运行内存，QQ 需要256MB的内存，迅雷需要256MB的内存，网易云音乐需要256MB的内存……
- 我的电脑：4GB内存
- 问题：这些程序同时运行需要的内存远大于4GB，那么为什么它们还可以在我的电脑上同时运行呢？
- 答：这是虚拟存储器技术。实际只有4GB的内存，在用户看来似乎远远大于4GB

![os](http://images.zsjshao.net/ky/os/1/17.png)

某单核CPU的计算机中，用户打开了以下软件...

![os](http://images.zsjshao.net/ky/os/1/18.png)

问题：既然一个程序需要被分配CPU才能正常执行，那么为什么单核CPU的电脑中能同时运行这么多个程序呢？

答：这是虚拟处理器技术。实际上只有一个单核CPU，在用户看来似乎有6个CPU在同时为自己访问。

![os](http://images.zsjshao.net/ky/os/1/19.png)

![os](http://images.zsjshao.net/ky/os/1/20.png)

#### 1.3.5、操作系统的特征--异步

异步是指，在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底的，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。

只有系统拥有并发性，才有可能导致异步性。

#### 1.3.6、总结

![os](http://images.zsjshao.net/ky/os/1/21.png)

重点：

- 理解并发和并行的区别
- 并发和共享互为存在条件
- 没有并发和共享，就谈不上虚拟和异步，因此并发和共享是操作系统的两个最基本的特征

### 1.4、习题

#### 1.4.1、单项选择题

1.操作系统是一种()

A.通用软件  B.系统软件

C.应用软件  D.软件包

2,操作系统是对()进行管理的软件

A.软件    B.硬件
C.计算机资源    D.应用

3.下面()资源不是操作系统应该管理的

A. CPU    B.内存
C.外存    D.源程序

4.下列选项中()不是操作系统关心的问题

A.管理计算机裸机    B.设计,提供用户程序与硬件系统的界面
C.管理计算机系统资源    D.高级程序设计语言的编译器

5.操作系统的基本功能是()

A.提供功能强大的网络管理工具    B.提供用户界面方使用户使用
C.提供方便的可视化编辑程序    D.控制和管理系统内的各种资源

6.现代操作系统中最基本的两个特征是()

A.并发和不确定    B.并发和共享
C.共享和拟    D.虚拟和不确定

7.下列关于并发性的叙述中,正确的是()

A.并发性是指若事件在同一时刻发生    B.并发性是指若干事件在不同时刻发生
C.并发性是指若干事件在同一时间间隔内发生    D.并发性是指若干事件在不同时间间隔内发生

8.【2009统考真题】单处理机系统中,可并行的是(）

Ⅰ.进程与进程  Ⅱ.处理机与设备  Ⅲ.处理机与通道  Ⅳ.设备与设备

A.Ⅰ、Ⅱ、Ⅲ    B.Ⅰ、Ⅱ、Ⅳ
C.Ⅰ、Ⅲ、Ⅳ    D.Ⅱ、Ⅲ、Ⅳ

9.用户可以通过()两种方式来使用计算机

A.命令接口和函数    B.命令接口和系统调用
C.命令接口和文件管理    D.设备管理方式和系统调用

10.系统调用是由操作系统提供给用户的,它()

A直接通过键盘交互方式使用    B.只能通过用户程序间接使用
C.是命接口中的命令    D,与系统的命令一样

11.【2010统考真题】下列选项中,操作系统提供给应用程序的接口是()

A,系统调用    B.中断
C.库函数    D.原语

12.操作系统提供给编程人员的接口是()

A.库函数    B.高级语言
C.系统调用    D.子程序

13.系统调用的目的是()

A.请求系统服务    B.中止统服务
C.申请系统资源    D.释放系统资源

14.为了方使用户直接或接地控制自己的作业操作系统向用户提供了命令接口，该接口又可进一步分为()

A.联机用户接口和脱机用户接口    B.程序接口和图形接口
C.联机用户接口和程序接口    D.机用户接口和图形接口

15.用户在程序中试图读某文件的第100个逻辑块使用操作系统提供的()接口

A.系统调用    B.键盘命今
C.原语    D.图形用户接口

16.操作系统与用户通信接口通常不包括()

 A. shell    B.命令解释器
C.广义指令    D.缓存管理指令

17.下列选项中,不属于多道程序设计的基本特征是()

A.制约性    B.同断性
C.顺序性    D.共享性

**18.以下关于操作系统的叙述中,错误的是()**

A.操作系统是管理资源的程序    B.操作系统是管理用户程序执行的程序
C.操作系统是能使系统资源提高效率的程序    D.操作系统是用来编程的程序

**19.【2013统考真题】计算机开机后,操作系统最终被加载到()**

 A. BIOS     B. ROM
 C. EPROM     D.RAM

答案：

BCDDD BCDBB

ACAAA DCDD

#### 1.4.2、综合应用题

1.说明库函数与系统调用的区别和联系

库函数是语言或应用程序的一部分,可以运行在用户空间中。而系统调用是操作系统的一部分,是内核为用户提供的程序接口,运行在内核空间中,而且许多库函数都会使用系统调用来实现功能。未使用系统调用的库函数,其执行效率通常要比系统调用的高。因为使用系统调用时,需要上下文的切换及状态的转换(由用户态转向核心态)

## 2、操作系统的发展与分类

![os](http://images.zsjshao.net/ky/os/1/22.png)

学习提示：要重点关注和理解各类操作系统主要想解决的是什么问题，各自的优缺点。

## 1、手工操作阶段

![os](http://images.zsjshao.net/ky/os/1.1_3/02.png)

主要缺点：用户独占全机、人机速度矛盾导致资源利用率极低

## 2、批处理阶段--单道批处理系统

引入脱机输入/输出技术（用外围机+磁带完成），并由监督程序（操作系统的雏形）负责控制作业的输入、输出

![os](http://images.zsjshao.net/ky/os/1.1_3/03.png)

主要优点：缓解了一定程度的人机速度矛盾，资源利用率有所提升。

主要缺点：内存中仅能有一道程序运行，只有该程序运行结束之后才能调入下一道程序。CPU有大量的时间是在空闲等待I/O完成。资源利用率依然很低。

## 3、批处理阶段--多道批处理系统

![os](http://images.zsjshao.net/ky/os/1.1_3/04.png)

主要优点：多道程序并发执行，共享计算机资源。资源利用率大幅提升，CPU和其他资源更能保持“忙碌”状态，系统吞吐量增大。

主要缺点：用户响应时间长，没有人机交互功能（用户提交自己的作业之后就只能等待计算机处理完成，中间不能控制自己的作业执行。

eg：无法调试程序/无法在程序运行过程中输入一些参数）

## 4、分时操作系统

![os](http://images.zsjshao.net/ky/os/1.1_3/05.png)

分时操作系统：计算机以时间片为单位轮流为各个用户/作业服务，各个用户可通过终端与计算机进行交互。

主要优点：用户请求可以被即时响应，解决了人机交互问题。允许多个用户同时使用一台计算机，并且用
户对计算机的操作相互独立，感受不到别人的存在。

主要缺点：不能优先处理一些紧急任务。操作系统对各个用户/作业都是完全公平的，循环地为每个用户/
作业服务一个时间片，不区分任务的紧急性。

## 5、实时操作系统

实时操作系统：

主要优点：能够优先响应一些紧急任务，某些紧急任务不需时间片排队。

在实时操作系统的控制下，计算机系统接收到外部信号后及时进行处理，并且要在严格的时限内处理完事件。实时操作系统的主要特点是及时性和可靠性。

![os](http://images.zsjshao.net/ky/os/1.1_3/06.png)

## 6、其他几种操作系统

网络操作系统：是伴随着计算机网络的发展而诞生的，能把网络中各个计算机有机地结合起来，实现数据传送等功能，实现网络中各种资源的共享（如文件共享）和各台计算机之间的通信。（如：Windows NT 就是一种典型的网络操作系统，网站服务器就可以使用）

分布式操作系统：主要特点是分布性和并行性。系统中的各台计算机地位相同，任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务。

个人计算机操作系统：如Windows XP、MacOS，方便个人使用。

## 7、总结

![os](http://images.zsjshao.net/ky/os/1.1_3/07.png)

