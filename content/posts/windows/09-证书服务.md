

https://docs.microsoft.com/zh-cn/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831740(v=ws.11)



## 1、证书基础知识理解

### 1.1、证书和CA去区别？

CA（Certificate Authority）：证书颁发机构是Windows Server中自带的服务，安装CA服务器的成为证书服务器，CA可以颁发证书。

证书：证书服务器生成的一个文件（工具），使用此文件（工具）可以实现加密等功能。

### 1.2、证书用处？

加密：HTTPS Web Site，VPN，SMTPS，POP3S等

身份验证：USB Key

### 1.3、如何获取证书？

企业部署证书服务器，由证书服务器颁发证书

向公网证书提供商购买

### 1.4、自己颁发证书和公网购买证书区别？

相同点：从加密算法和加密强度上是一样的

不同点：公网购买的证书默认情况下所有的客户端都是信任的

​                自己颁发的证书默认情况下所有的客户端都是不信任的

证书在应用的时候需要检验吊销列表，这就要求证书服务器365*24在线，自己部署CA很难保证，会影响加密稳定性

### 1.5、证书购买

单域名证书   www.zsjshao.net

多域名证书  zsjshao.net、

通配符证书  *.zsjshao.net

### 1.6、加密

对称加密：加密和解密使用同一把密钥

非对称加密：

- 每个加密的用户（计算机）有两把密钥：公钥和私钥
- 公钥存在于申请的证书中；而私钥是用户安装证书的时候在本地生成的
- 公钥加密，私钥解密；私钥加密，公钥解密
- 公钥是公开的，每个人都可以获得；而私钥只能自己知道
- 由公钥无法推算出私钥



### 2、证书服务部署和基本操作

证书应用场景

SSL加密原理

案例：使用证书实现Web加密



## 3、独立CA和企业CA

在工作组环境中，只能安装独立CA；

在域架构中，可以部署独立CA和企业CA



企业CA好处：

域成员自动信任；可以使用模板去申请证书



注意点：

企业根CA在一个林中只能部署一个

服务器安装CA后，无法更改计算机名称，无法加（退）域

管理员所申请的证书名称和客户访问的域名要完全保持一致

计算机在申请证书前，务必保证这台计算机已经信任申请CA



演示：企业CA部署

需要：

用户输https://www.zsjshao.net能够访问到Web Server

用户输入www.zsjshao.net能自动跳转到HTTPS



## 4、SSL加密原理

Pub（公钥）、Pri（私钥）

1.https://请求

2.Pri（Pub）Pub

3.在客户端本地由Pub生成一个128位Key

4.Pub（Key）

5.解密得到Key

传输数据Key（Data）



SSL、IPSEC









